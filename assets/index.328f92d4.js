var e=Object.defineProperty,s=Object.defineProperties,t=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,c=(s,t,a)=>t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a;import{t as n,r as d,c as r,a as u,d as i,b as p,w as b,o as v,e as h,F as f,f as k,p as y,g as m,h as C,i as g,j as I,k as z,l as _,m as w}from"./vendor.e7f04979.js";const S=Object.freeze([{name:"かんたん",value:3},{name:"むずかしい",value:5},{name:"オニ",value:8}]),O=e=>e.flat().every((e=>!0===e.status));function M(){const e=d({board:[],size:S[0].value,steps:0}),u=r((()=>O(e.board)));let i=0;const p=()=>{const s=[];for(let t=0;t<e.size;t++)s.push({id:i,status:Math.random()>=.5}),i++;return s},b=()=>{const s=[];for(let t=0;t<e.size;t++)s.push(p());return s},v=()=>{let s=b();O(s)&&(s=b()),e.board=s,e.steps=0};return h=((e,s)=>{for(var t in s||(s={}))l.call(s,t)&&c(e,t,s[t]);if(a)for(var t of a(s))o.call(s,t)&&c(e,t,s[t]);return e})({},n(e)),s(h,t({allChecked:u,init:v,update:(s,t)=>{e.board[s][t].status=!e.board[s][t].status,e.board[s-1]&&(e.board[s-1][t].status=!e.board[s-1][t].status),e.board[s+1]&&(e.board[s+1][t].status=!e.board[s+1][t].status),e.board[s][t-1]&&(e.board[s][t-1].status=!e.board[s][t-1].status),e.board[s][t+1]&&(e.board[s][t+1].status=!e.board[s][t+1].status),e.steps++},updateSize:s=>{e.size=s,v()}}));var h}var L=i({props:{click:{type:Function,default:()=>{}},status:{type:Boolean,default:!1},allChecked:{type:Boolean,default:!1},size:{type:Number,default:8}},setup:e=>({status:r((()=>e.status?"truthy":"")),allChecked:r((()=>e.allChecked?"all-checked":"")),size:e.size,click:e.click})});const A=b("data-v-69d42bd0")(((e,s,t,a,l,o)=>(v(),p("button",{class:["cell",`${e.status} ${e.allChecked}`],style:`width: calc(100% / ${e.size}); height: 100%);`,onClick:s[1]||(s[1]=(...s)=>e.click&&e.click(...s))},null,6))));L.render=A,L.__scopeId="data-v-69d42bd0";var E=i({props:{coloredCells:{type:Array,default:[5,8,9]},size:{type:Number,default:6}},setup:()=>({ICON_CELLS:9})});const B=b("data-v-2fdbb0d8");y("data-v-2fdbb0d8");const j={class:"container"},F={class:"icon"};m();const $=B(((e,s,t,a,l,o)=>(v(),p("div",j,[h("div",F,[(v(!0),p(f,null,k(e.ICON_CELLS,(s=>(v(),p("div",{style:{width:`${e.size}px`,height:`${e.size}px`},key:`icon_cell-${s}`,class:["cell",e.coloredCells.includes(s)&&"colored"]},null,6)))),128))])]))));E.render=$,E.__scopeId="data-v-2fdbb0d8";var D=i({name:"Header",components:{Icon:E},props:{showModal:{type:Function,default:()=>{}},reset:{type:Function,default:()=>{}}},setup:()=>({TITLE:"PANEL FLIPS"})});const P=b("data-v-b916dd84");y("data-v-b916dd84");const N={class:"header"},R={class:"inner"},Z={class:"title"};m();const T=P(((e,s,t,a,l,o)=>{const c=C("Icon");return v(),p("div",N,[h("div",R,[h("h1",null,[h(c),h("span",Z,g(e.TITLE),1)]),h("div",null,[h("button",{onClick:s[1]||(s[1]=(...s)=>e.showModal&&e.showModal(...s))},"あそびかた"),h("button",{onClick:s[2]||(s[2]=(...s)=>e.reset&&e.reset(...s))},"さいしょから")])])])}));D.render=T,D.__scopeId="data-v-b916dd84";var H=i({props:{show:{type:Boolean,default:!1},click:{type:Function,default:()=>{}}},components:{Icon:E}});const x=b("data-v-7e7f87c9");y("data-v-7e7f87c9");const q={class:"inner"},G=h("h2",null,"あそびかた",-1),J=h("p",null,[I(" パネルをおしてみましょう。"),h("br"),I(" おしたところと、上下左右4つの色が反転します。 ")],-1),K={class:"figure"},Q=I(" 　→　 "),U=h("p",null,[I(" 全部の"),h("span",{class:"blue"},"パネル"),I("を"),h("span",{class:"orange"},"オレンジ"),I("にすればクリアです！ ")],-1);m();const V=x(((e,s,t,a,l,o)=>{const c=C("Icon");return v(),p("div",{class:"modal",onClick:s[1]||(s[1]=(...s)=>e.click&&e.click(...s)),style:`display: ${e.show?"block":"none"};`},[h("div",q,[h("div",null,[G,J,h("p",K,[h(c,{coloredCells:[]}),Q,h(c,{coloredCells:[2,4,5,6,8]})]),U])])],4)}));H.render=V,H.__scopeId="data-v-7e7f87c9";const W=[1,2,3,4,5,6,7,8,9];var X=i({name:"Congrats",components:{Icon:E},props:{isLastStage:{type:Boolean,default:!1}},setup:()=>({cells:W})});const Y=b("data-v-0f69b7a8");y("data-v-0f69b7a8");const ee={class:"contents"},se={class:"congrats"},te=h("h2",{class:"mb1"},"ステージクリア！",-1),ae={key:0},le=h("p",{class:"mb1"},[I(" おめでとう！"),h("br"),I(" 次のステージにチャレンジしてみましょう"),h("br")],-1),oe={key:1},ce=h("p",{class:"mb1"},"パズルマスターです！おめでとう！",-1);m();const ne=Y(((e,s,t,a,l,o)=>{const c=C("Icon");return v(),p("div",ee,[h("div",se,[te,e.isLastStage?z("",!0):(v(),p("div",ae,[le,h(c,{coloredCells:e.cells},null,8,["coloredCells"])])),e.isLastStage?(v(),p("div",oe,[ce,h(c,{coloredCells:e.cells},null,8,["coloredCells"])])):z("",!0)])])}));X.render=ne,X.__scopeId="data-v-0f69b7a8";const de=i({name:"IconArrow"}),re=b("data-v-74372d0e");y("data-v-74372d0e");const ue={class:"button_icon"};m();const ie=re(((e,s,t,a,l,o)=>(v(),p("div",ue,"▶"))));de.render=ie,de.__scopeId="data-v-74372d0e";var pe=i({components:{IconArrow:de},props:{size:{type:Number,default:0},click:{type:Function,default:()=>{}}},setup:()=>({BOARD_SIZES:S})});const be=b("data-v-27038333");y("data-v-27038333");const ve={class:"footer"};m();const he=be(((e,s,t,a,l,o)=>{const c=C("IconArrow");return v(),p("div",ve,[(v(!0),p(f,null,k(e.BOARD_SIZES,((s,t)=>(v(),p(f,null,[e.size===e.BOARD_SIZES[t].value?(v(),p("button",{class:"button",key:s.name,onClick:()=>e.click(e.BOARD_SIZES[t+1]?e.BOARD_SIZES[t+1].value:e.BOARD_SIZES[0].value)},[I(g(s.name)+" ",1),h(c)],8,["onClick"])):z("",!0)],64)))),256))])}));pe.render=he,pe.__scopeId="data-v-27038333";var fe=i({name:"LightsOut",components:{Header:D,Cell:L,Modal:H,Congrats:X,Footer:pe},setup:()=>{const{board:e,size:s,steps:t,update:a,init:l,allChecked:o,updateSize:c}=M(),{showModal:n,toggleModal:d}=function(){const e=u(!1);return{showModal:e,toggleModal:()=>e.value=!e.value}}();return _((()=>l())),{board:e,size:s,steps:t,update:a,updateSize:c,init:l,allChecked:o,showModal:n,toggleModal:d}}});const ke=b("data-v-885bb90e");y("data-v-885bb90e");const ye={class:"board"},me={class:"steps"},Ce=I(" おした数: "),ge={class:"count"};m();const Ie=ke(((e,s,t,a,l,o)=>{const c=C("Header"),n=C("Cell"),d=C("Modal"),r=C("Congrats"),u=C("Footer");return v(),p(f,null,[h(c,{reset:e.init,showModal:e.toggleModal},null,8,["reset","showModal"]),h("div",ye,[(v(!0),p(f,null,k(e.board,((s,t)=>(v(),p("div",{class:"row",key:t,style:`height: calc(100% / ${e.size})`},[(v(!0),p(f,null,k(s,((s,a)=>(v(),p(n,{key:s.id,click:()=>e.update(t,a),size:e.size,status:s.status},null,8,["click","size","status"])))),128))],4)))),128))]),h("div",me,[Ce,h("span",ge,g(e.steps),1)]),h(d,{show:e.showModal,click:e.toggleModal},null,8,["show","click"]),e.allChecked?(v(),p(r,{key:0})):z("",!0),h(u,{size:e.size,click:e.updateSize},null,8,["size","click"])],64)}));fe.render=Ie,fe.__scopeId="data-v-885bb90e";var ze=i({name:"App",components:{LightsOut:fe}});ze.render=function(e,s,t,a,l,o){const c=C("LightsOut");return v(),p(c)},w(ze).mount("#app");
